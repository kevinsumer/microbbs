<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="admin/layout">
<head>
  <title>话题管理</title>
  <!-- DataTables -->
  <link href="//cdn.bootcss.com/bootstrap-table/1.11.0/bootstrap-table.min.css" rel="stylesheet">
</head>
<body>
<section layout:fragment="content" class="content">
  <!-- Your Page Content Here -->
  <div class="box">
    <div class="box-header">
      <h3 class="box-title">话题管理</h3>
    </div>
    <!-- /.box-header -->
    <div id="toolbar" class="btn-group">
      <button id="btn-post-top" class="btn btn-info">
        置顶
      </button>
      <button id="btn-post-perfect" class="btn btn-success" >
        优选
      </button>
      <button id="btn-post-disable" class="btn btn-warning">
        禁止回复
      </button>
      <button id="btn-post-remove" class="btn btn-danger" >
        删除
      </button>
    </div>
    <div class="box-body">
      <table id="posts"
             class="table table-no-bordered table-striped bbs-table"
             data-show-export="true"
             data-detail-view="false"
             data-id-field="id"
             data-toolbar="#toolbar"
             data-search="true"
             data-show-refresh="true"
             data-detail-formatter="detailFormatter"
             data-show-toggle="false"
             data-show-footer="false"
             data-side-pagination="client"
             data-pagination="true"
             data-page-size="10"
             data-page-list="[10, 25, 50, 100, ALL]"
             data-toggle="table">
        <thead>
        <tr>
          <th data-checkbox="true"></th>
          <th data-field="id" data-sortable="true">ID</th>
          <th data-field="title">标题</th>
          <th data-field="author">作者</th>
          <th data-field="createTime" data-sortable="true">发表时间</th>
          <th data-field="replyCount" data-sortable="true">回复数</th>
          <th data-field="lastReplyAuthor">最后回复人</th>
          <th data-field="lastReplyTime" data-sortable="true">最后回复时间</th>
          <th data-field="status" data-sortable="true">状态</th>
        </tr>
        </thead>
        <tbody>

        <tr th:each="post: ${posts}">
          <td></td>
          <td th:text="${post.id}">ID</td>
          <td>
            <a th:text="${post.title}" th:href="@{'/post/' + ${post.id}}" target="_blank">标题</a>
          </td>
          <td><a class="author" href="#" th:text="${post.author.nick}">作者</a></td>
          <td class="time" th:text='${#dates.format(post.createdTime, "yyyy-MM-dd HH:ss:mm")}'>发表时间</td>
          <td th:text="${post.replyCount}">回复数</td>
          <td>
              <a class="author" href="#" th:text="${post.lastAuthorName}">lastAuthorName</a>
          </td>
          <td><span class="time" th:text='${#dates.format(post.lastReplyTime, "yyyy-MM-dd HH:ss:mm")}'></span></td>
          <td>
            <span th:text="${post.status.title}">状态</span>
            <i class="iconfont icon-zhiding icon-micro" th:if="${post.top}" title="置顶"></i>
            <i class="iconfont icon-youxuan icon-micro" th:if="${post.perfect}" title="优选"></i>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
    <!-- /.box-body -->
  </div>
  <!-- /.box -->
</section>

<div layout:fragment="scripts">
  <script src="//cdn.bootcss.com/bootstrap-table/1.11.0/bootstrap-table.min.js"></script>
  <script src="//cdn.bootcss.com/bootstrap-table/1.11.0/locale/bootstrap-table-zh-CN.min.js"></script>
</div>
</body>
</html>
